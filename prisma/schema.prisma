// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

//Node 1 - Integrated for Accessibility and Client | Accessibility "one-to-one" Client
model Accessibility {
  id       String  @id @default(uuid())
  status   Boolean @default(true)
  idClient String? @unique
  Client   Client? @relation(fields: [idClient], references: [id])
}

model Client {
  id            String         @id @default(uuid())
  name          String?
  surname       String?
  email         String         @unique
  password      String?
  Accessibility Accessibility?
  Cart          Cart[]
}

model Product {
  id           String  @id @default(uuid())
  name         String?
  price        String?
  availability String?
  brand        String?
  model        String?
  rating       String?
  image        String?
  Cart         Cart[]
}

//Node 2 - Integrated for: Cart, Client, Product || Cart "one-to-many" Client, Cart "one-to-many" Product
model Cart {
  id         String  @id @default(uuid())
  idClient   String
  Client     Client  @relation(fields: [idClient], references: [id])
  idProduct  String
  Product    Product @relation(fields: [idProduct], references: [id])
  payment_id String?

  // @@id([idClient, idProduct])
}
